name: PR Validation

on:
  pull_request:
    branches: [ master, main ]

jobs:
  validate-pr:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4

    - name: Set up Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.12'

    - name: Check PR title
      run: echo "PR Title - ${{ github.event.pull_request.title }}"

    - name: Install and test imports
      run: |
        pip install -e .
        python -c "import backtrader; from backtrader import Cerebro, Strategy; print('All imports OK')"

    - name: Test basic functionality
      run: python -c "import backtrader as bt; c = bt.Cerebro(); print('Basic functionality OK')"
